{"ast":null,"code":"var _jsxFileName = \"/Users/paulamibhattacharya/development/git-react/books/src/Search.js\";\n// import { useFormik } from 'formik'\nimport React, { useState, useEffect } from 'react';\nimport { useForm } from \"react-hook-form\";\nexport default function Search() {\n  const [book, setBook] = useState(null);\n  const {\n    register,\n    handleSubmit,\n    watch,\n    errors\n  } = useForm();\n\n  const onSubmit = data => useEffect(() => {\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(values)\n    };\n    fetch(\"http://127.0.0.1:5000/search\", requestOptions).then(response => response.json()).then(data => setBook(data.title));\n  }, []); // const formik = useFormik({\n  //     initialValues: {\n  //         search: ''\n  //     },\n  //     onSubmit: values => {\n  //         useEffect(() => {\n  //             const requestOptions = {\n  //             method: 'POST',\n  //             headers: {'Content-Type': 'application/json'},\n  //             body: JSON.stringify(values)\n  //             }\n  //             fetch(\"http://127.0.0.1:5000/search\", requestOptions)\n  //                 .then(response => response.json())\n  //                 .then(data => setBook(data.title))\n  //         }, [])\n  //         console.log(values)\n  //     }\n  //     onSubmit: async (values) => {\n  //         console.log(values)\n  //         const response = await fetch(\"http://127.0.0.1:5000/search\", {\n  //             method: \"POST\",\n  //             headers: {\n  //                 \"Content-Type\": \"application/json\"\n  //             },\n  //             body: JSON.stringify(values)\n  //         })\n  //         if (response.ok) {\n  //             const json = await response.json();\n  //             console.log(json)\n  //             console.log(\"response worked!\")\n  //         }\n  //     }            \n  //  })\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Search for book by title,author or isbn\",\n    name: \"search\",\n    id: \"search\" // onChange={formik.handleChange}\n    // value={formik.values.search}\n    ,\n    defaultValue: \"test\",\n    ref: register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, \"Search\")));\n}","map":{"version":3,"sources":["/Users/paulamibhattacharya/development/git-react/books/src/Search.js"],"names":["React","useState","useEffect","useForm","Search","book","setBook","register","handleSubmit","watch","errors","onSubmit","data","requestOptions","method","headers","body","JSON","stringify","values","fetch","then","response","json","title"],"mappings":";AAAA;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,OAAT,QAAwB,iBAAxB;AAEA,eAAe,SAASC,MAAT,GAAkB;AAC7B,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBL,QAAQ,CAAC,IAAD,CAAhC;AACA,QAAM;AAAEM,IAAAA,QAAF;AAAYC,IAAAA,YAAZ;AAA0BC,IAAAA,KAA1B;AAAiCC,IAAAA;AAAjC,MAA4CP,OAAO,EAAzD;;AACA,QAAMQ,QAAQ,GAAGC,IAAI,IAAKV,SAAS,CAAC,MAAM;AAC9B,UAAMW,cAAc,GAAG;AACvBC,MAAAA,MAAM,EAAE,MADe;AAEvBC,MAAAA,OAAO,EAAE;AAAC,wBAAgB;AAAjB,OAFc;AAGvBC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeC,MAAf;AAHiB,KAAvB;AAKAC,IAAAA,KAAK,CAAC,8BAAD,EAAiCP,cAAjC,CAAL,CACKQ,IADL,CACUC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADtB,EAEKF,IAFL,CAEUT,IAAI,IAAIN,OAAO,CAACM,IAAI,CAACY,KAAN,CAFzB;AAGH,GAT0B,EASxB,EATwB,CAAnC,CAH6B,CAa7B;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAM,IAAA,QAAQ,EAAEhB,YAAY,CAACG,QAAD,CAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AACI,IAAA,IAAI,EAAC,MADT;AAEI,IAAA,WAAW,EAAC,yCAFhB;AAGI,IAAA,IAAI,EAAC,QAHT;AAII,IAAA,EAAE,EAAC,QAJP,CAKI;AACA;AANJ;AAOI,IAAA,YAAY,EAAC,MAPjB;AAQI,IAAA,GAAG,EAAEJ,QART;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAaI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAbJ,CADJ,CADJ;AAmBH","sourcesContent":["// import { useFormik } from 'formik'\nimport React, { useState, useEffect } from 'react'\nimport { useForm } from \"react-hook-form\";\n\nexport default function Search() {\n    const [book, setBook] = useState(null)\n    const { register, handleSubmit, watch, errors } = useForm();\n    const onSubmit = data =>  useEffect(() => {\n                const requestOptions = {\n                method: 'POST',\n                headers: {'Content-Type': 'application/json'},\n                body: JSON.stringify(values)\n                }\n                fetch(\"http://127.0.0.1:5000/search\", requestOptions)\n                    .then(response => response.json())\n                    .then(data => setBook(data.title))\n            }, [])\n    // const formik = useFormik({\n    //     initialValues: {\n    //         search: ''\n    //     },\n\n    //     onSubmit: values => {\n    //         useEffect(() => {\n    //             const requestOptions = {\n    //             method: 'POST',\n    //             headers: {'Content-Type': 'application/json'},\n    //             body: JSON.stringify(values)\n    //             }\n    //             fetch(\"http://127.0.0.1:5000/search\", requestOptions)\n    //                 .then(response => response.json())\n    //                 .then(data => setBook(data.title))\n    //         }, [])\n    //         console.log(values)\n    //     }\n        \n    //     onSubmit: async (values) => {\n    //         console.log(values)\n    //         const response = await fetch(\"http://127.0.0.1:5000/search\", {\n    //             method: \"POST\",\n    //             headers: {\n    //                 \"Content-Type\": \"application/json\"\n    //             },\n    //             body: JSON.stringify(values)\n\n    //         })\n\n    //         if (response.ok) {\n    //             const json = await response.json();\n    //             console.log(json)\n    //             console.log(\"response worked!\")\n    //         }\n    //     }            \n    //  })\n\n    return (\n        <div>\n            <form onSubmit={handleSubmit(onSubmit)}>\n                <input\n                    type=\"text\"\n                    placeholder=\"Search for book by title,author or isbn\"\n                    name=\"search\"\n                    id=\"search\"\n                    // onChange={formik.handleChange}\n                    // value={formik.values.search}\n                    defaultValue=\"test\" \n                    ref={register}\n                />\n                {/* <h1>{book}</h1>\n                <h1>haha</h1> */}\n                <button type=\"submit\">Search</button>\n            </form>\n        </div>\n    )\n}\n\n\n"]},"metadata":{},"sourceType":"module"}