{"ast":null,"code":"var _jsxFileName = \"/Users/paulamibhattacharya/development/git-react/books/src/Search.js\";\nimport { useFormik } from 'formik';\nimport React, { useState, useEffect } from 'react';\nexport default function Search() {\n  const [book, setBook] = useState(null);\n  const formik = useFormik({\n    initialValues: {\n      search: ''\n    },\n    onSubmit: values => {\n      useEffect(() => {\n        const requestOptions = {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(values)\n        };\n        fetch(\"http://127.0.0.1:5000/search\", requestOptions).then(response => response.json()).then(data => setBook(data.title));\n      }, []);\n      console.log(values);\n    } //     onSubmit: async (values) => {\n    //         console.log(values)\n    //         const response = await fetch(\"http://127.0.0.1:5000/search\", {\n    //             method: \"POST\",\n    //             headers: {\n    //                 \"Content-Type\": \"application/json\"\n    //             },\n    //             body: JSON.stringify(values)\n    //         })\n    //         if (response.ok) {\n    //             const json = await response.json();\n    //             console.log(json)\n    //             console.log(\"response worked!\")\n    //         }\n    //     }            \n\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: formik.handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Search for book by title,author or isbn\",\n    name: \"search\",\n    id: \"search\",\n    onChange: formik.handleChange,\n    value: formik.values.search,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, book), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, \"haha\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, \"Search\")));\n}","map":{"version":3,"sources":["/Users/paulamibhattacharya/development/git-react/books/src/Search.js"],"names":["useFormik","React","useState","useEffect","Search","book","setBook","formik","initialValues","search","onSubmit","values","requestOptions","method","headers","body","JSON","stringify","fetch","then","response","json","data","title","console","log","handleSubmit","handleChange"],"mappings":";AAAA,SAASA,SAAT,QAA0B,QAA1B;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AAEA,eAAe,SAASC,MAAT,GAAkB;AAC7B,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBJ,QAAQ,CAAC,IAAD,CAAhC;AACA,QAAMK,MAAM,GAAGP,SAAS,CAAC;AACrBQ,IAAAA,aAAa,EAAE;AACXC,MAAAA,MAAM,EAAE;AADG,KADM;AAKrBC,IAAAA,QAAQ,EAAEC,MAAM,IAAI;AAChBR,MAAAA,SAAS,CAAC,MAAM;AACZ,cAAMS,cAAc,GAAG;AACvBC,UAAAA,MAAM,EAAE,MADe;AAEvBC,UAAAA,OAAO,EAAE;AAAC,4BAAgB;AAAjB,WAFc;AAGvBC,UAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,MAAf;AAHiB,SAAvB;AAKAO,QAAAA,KAAK,CAAC,8BAAD,EAAiCN,cAAjC,CAAL,CACKO,IADL,CACUC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADtB,EAEKF,IAFL,CAEUG,IAAI,IAAIhB,OAAO,CAACgB,IAAI,CAACC,KAAN,CAFzB;AAGH,OATQ,EASN,EATM,CAAT;AAUAC,MAAAA,OAAO,CAACC,GAAR,CAAYd,MAAZ;AACH,KAjBoB,CAmBzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;;AAnCyB,GAAD,CAAxB;AAsCA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAM,IAAA,QAAQ,EAAEJ,MAAM,CAACmB,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AACI,IAAA,IAAI,EAAC,MADT;AAEI,IAAA,WAAW,EAAC,yCAFhB;AAGI,IAAA,IAAI,EAAC,QAHT;AAII,IAAA,EAAE,EAAC,QAJP;AAKI,IAAA,QAAQ,EAAEnB,MAAM,CAACoB,YALrB;AAMI,IAAA,KAAK,EAAEpB,MAAM,CAACI,MAAP,CAAcF,MANzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKJ,IAAL,CATJ,eAUI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAVJ,eAWI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAXJ,CADJ,CADJ;AAiBH","sourcesContent":["import { useFormik } from 'formik'\nimport React, { useState, useEffect } from 'react';\n\nexport default function Search() {\n    const [book, setBook] = useState(null)\n    const formik = useFormik({\n        initialValues: {\n            search: ''\n        },\n\n        onSubmit: values => {\n            useEffect(() => {\n                const requestOptions = {\n                method: 'POST',\n                headers: {'Content-Type': 'application/json'},\n                body: JSON.stringify(values)\n                }\n                fetch(\"http://127.0.0.1:5000/search\", requestOptions)\n                    .then(response => response.json())\n                    .then(data => setBook(data.title))\n            }, [])\n            console.log(values)\n        }\n        \n    //     onSubmit: async (values) => {\n    //         console.log(values)\n    //         const response = await fetch(\"http://127.0.0.1:5000/search\", {\n    //             method: \"POST\",\n    //             headers: {\n    //                 \"Content-Type\": \"application/json\"\n    //             },\n    //             body: JSON.stringify(values)\n\n    //         })\n\n    //         if (response.ok) {\n    //             const json = await response.json();\n    //             console.log(json)\n    //             console.log(\"response worked!\")\n    //         }\n    //     }            \n     })\n\n    return (\n        <div>\n            <form onSubmit={formik.handleSubmit}>\n                <input\n                    type=\"text\"\n                    placeholder=\"Search for book by title,author or isbn\"\n                    name=\"search\"\n                    id=\"search\"\n                    onChange={formik.handleChange}\n                    value={formik.values.search}\n                />\n                <h1>{book}</h1>\n                <h1>haha</h1>\n                <button type=\"submit\">Search</button>\n            </form>\n        </div>\n    )\n}\n\n\n"]},"metadata":{},"sourceType":"module"}